1、程序支持读取环境变量（未配置环境变量，可以通过console交互输入以下变量）

redis_ip
redis服务的ip地址，如：192.168.0.113
redis_port
redis服务的端口号，如：6399
redis_pwd
redis服务的验证密码
redis_db
redis作为消息组件时，双方使用的数据库编号，如：3
redis_queue
redis作为消息组件时，需要开启传输门禁记录的队列数量（1~20），一个队列最多支持20台IPC的视频下载，如：10
video_path
下载视频后，保存到本地的根目录路径。如: d:\video，后续的路径由程序根据行政编码、设备编号、时间，自动生成

2、redis使用到的数据结构及格式：
2.1 使用hash数据结构存储ipc的所有信息
key 为 ipc_0_0，ipc_0_1，ipc_0_2 .... 总共20个IPC配置信息。
其中ipc为标识号，第1个_0代表第几个消息通道，第2个_0代表第几个消息通道的第几个IPC，最多配置20个IPC。
如：第2个消息通道，第1个IPC信息的key值：ipc_1_0

key中的field分别为：
ip            -- ipc的IP地址
port        -- ipc的端口号，默认37777
user        -- ipc登录名
pwd        -- ipc登录密码
chan       -- ipc下载录像的通道号，默认0
region     -- ipc所在的区域行政编码，如宁海：T330226000000001
devcode  -- ipc对应的门禁机设备编号，如：11-11-1
在field中填写对应的value，完成一个IPC参数的配置。

2.2 使用list数据结构存储门禁记录，作为消息队列：
消息队列的数量最多为20个，参考上面的redis_queue的值。
队列的key 为rec_0，rec_1 .....总共20个消息队列。
其中rec为消息队列标识号，_0，_1等表示第几个消息队列.
如：第1个消息队列key为：rec_0

消息队列中存储20个ipc对应门禁机产生的门禁记录，消息格式如下：
"ipc的ip地址,门禁记录时间"。
如：摄像机192.168.0.224对应门禁设备发生的门禁记录时间2019年8月21日10点5分15秒的记录，消息格式：
"192.168.0.224,2019-08-21 10:05:15"
将该消息通过lpush指令推送到对应的消息通道：rec_0中，下载程序通过rpop获取通道中的门禁记录，自动下载对应的视频录像。





